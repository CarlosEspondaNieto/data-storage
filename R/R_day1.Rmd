---
title: "R_programming_01"
author: "Jorge Raze"
date: "9/4/2017"
output: slidy_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## R Programming

This is the R programming course, we'll try to focus in common tasks performed by a data scientist.

## Bibliography

![Bibliography](images/biblio.png)

(2014 - 2016) R Programming for Data Science
Roger D. Peng
Leanpub
You can get a copy [here](leanpub.com/rprogramming)

## What is R?

R is a dialect of S.

S is a language that was developed by John Chambers and others at the old Bell Telephone Laboratories, originally part of AT&T Corp. S was initiated in 1976 as an internal statistical analysis environment, originally implemented as Fortran libraries. Early versiones of the language did not even contain functions for statistical modeling.

In 1988 the system was rewritten in C and began to resemble the system that we have today (this was Version 3 of the language). The book *Statistical Models in S* by Chambers and Hastie (the white book) documents the statistical analysis functionality.Version 4 of the S language was released in 1988 and is the version that we use today. The book *Programming with Data* by John Chambers (the green book) documents this version of the language.

## Back to R

The R language came to use quite a bit after S had been deeloped. One key limitation of the S language was that it was only available in a commercial package, S-PLUS. In 1991, R was created by Ross Ihaka and Robert Gentleman in the Department of Statistics at the University of Auckland. In 1993 the first announcment of R was made to the public. Ross's and Robert's experience developing R is documented in a 1996 paper in the *Journal of Computational and Graphical Statistics*

> Ross Ihaka and Robert Gentleman. R: A language for data analysis and grapics. Jorual of Computational and Graphical Statistics, 5(3):299-314,1996

In 1995, Martin Mächler made an important contribution by convincing Ross and Robert to use the GNU General Public License to make R free software. This was critical because it allowed for the source code for the entire R system to be accessible to anyone who wanted to tinker with it (more on free software later).

In 1996, a public mailing list was created (the R-help and R-devel lists) and in 1997 the R Core Group was formed, containing some people associated with S and S-PLUS. Currently, the core group controls the source code for R and is solely able to check in changes to the main R source tree. Finally, in 2000 R version 1.0.0 was released to the public.

Fragment from: Roger D. Peng. “R Programming for Data Science”.

## Design of the R System

The primary R system is available from the [Comprehensive R Archive Network](cran.r-project.org), also known as CRAN. CRAN also hosts many add-on packages that can be used to extend the functionality of R.

The R system is divided into 2 conceptual parts:

- The "base" R system that you download from CRAN
- Everything else

R functionality is divided into a number of *packages*.

- The "base" R system contains, among other things, the `base` package which is required to run R and contains the most fundamental functions.
- The other packages contained in the "base" system indluce `utils`,`stats`, `datasets`, `graphics`, `grDevices`, `grid`, `methods`, `tools`, `parallel`, `compiler`, `splines`, `tcltk`, `stats4`.
- There are also "Recommended" packages: `boot`, `class`, `cluster`, `codetools`, `foreign`, `KernSmooth`, `lattice`, `mgcv`, `nlme`, `rpart`, `survival`, `MASS`, `spatial`, `nnet`, `Matrix`.

When you download a fresh installation from CRAN, you get all of the above.

## Other packages

- There are over 4000 packages on CRAN that have been evelope by users and programmers around the world.
- There are also many packages associated with the [Bioconductor Project](bioconductor.org).
- People often make packages available on their personal websites; there is no reliable way to keep track of how many packages are available in this fashion.
- There are a number of packages being developed on repositories like GitHub and BitBucket but there is no reliable listing of all these packages.

## Limitations of R

- Objects must generally be stored in physical memory
- Functionality is based on consumer demand


## R Resources

### Official manuals

As far as getting started with R by reading stuff, there is a course book also available on [CRAN](cran.r-project.org).

- [An Introduction to R](cran.r-project.org/doc/manuals/r-release/R-intro.html)


## Installation

On ubuntu
```
sudo echo "deb http://cran.rstudio.com/bin/linux/ubuntu xenial/" | sudo tee -a /etc/apt/sources.list
gpg --keyserver keyserver.ubuntu.com --recv-key E084DAB9
gpg -a --export E084DAB9 | sudo apt-key add -
sudo apt-get update
sudo apt-get install r-base r-base-dev
```
On CentOS

```
adduser graduate
passwd graduate
usermod -aF wheel graduate
sudo yum install epel-release
sudo yum install R
wget https://download2.rstudio.org/rstudio-server-rhel-1.0.44-x86_64.rpm
sudo yum install --nogpgcheck rstudio-server-rhel-1.0.44-x86_64.rpm
systemctl status rstudio-server.service
```
Then visit http://youriporhostname:8787/

## Getting started

```{r echo=TRUE}
x <- 1
print(x)
msg <- "Hello"
```

## Evaluation

When a complete expression is entered at the prompt, it is evaluated and te result of the evaluated expression is returned.

```{r echo = T}
x <- 5 ## nothing printed
x ## auto printing occurs
print(x) ## explicit printing
```

## R Objects

R has five basic or "atomic" classes or objects:

* character
* numeric (real numbers)
* integer
* complex
* logical (True/False)

The most basic type of R object is a vector. Empty vectors can be created with the `vector()` function. *A vector can only contain objects of the same class.*

The only exception to that rule is a **list**.

## Numbers

Numbers are treated as numeric objects (double precision real numbers).

If you explicitly want an integer, you need to specify the `L` suffix. Ex. `1L`

There is also a spceical number `Inf` which represents infinity. Ex. `1/0`

The value `NaN` represents an undefined value ("not a number") Ex. `0/0`

## Attributes

R objects can contain attirbutes, which are like metadata for the object. For example collumn names on a data frame, other examples are:

* names, dimnames
* dimensions (e.g. matrices, arrays)
* class (e.g. integer, numeric)
* length
* other user-defined attirbutes/metadata

You can access them with the `attribuutes()` function.

## Creating vectors

The `c()` function can be used to create a vector object. It concatenates things together.

```{r echo=TRUE}
x <- c(0.5, 0.6) # numeric
x <- c(TRUE, FALSE) # logical
x <- c(T, F) # logical
x <- c("a", "b", "c") # character
x <- 9:29 # integer
x <- c(1+0i, 2+4i) # complex
```

You can also use the `vector()` function to initialize vectors.

```{r echo=TRUE}
x <- vector("numeric", length=10)
x
```


## Mixing Objects

You can mix objects in a vector.

```{r echo=TRUE}
y <- c(1.7, "a") # character
y <- c(TRUE, 2) # numeric
y <- c("a", TRUE) # character
```

In each of case above, we are mixing objects of two different classes in a vector. But remember, the only rule about vectors says this is not allowed. Whe ndifferent objects are mixed in a vector, coercion occurs so that every element in the vector is of the same class.

## Explicit Coercion

Objects can be explicitly coerced from one class to another using the as.* functions, if available.

```{r echo=TRUE}
x <- 0:6
class(x)
as.numeric(x)
as.logical(x)
as.character(x)
```

Sometimes, R can't figure out how to coerce an object and this can result in NAs being produced.

```{r echo=TRUE}
x <- c("a", "b", "c")
as.numeric(x)
as.logical(x)
as.complex(x)
```

## Matrices

Matrices are vectors with a **dimension** attribute. The dimension attribute is itself an integer vector of length 2 (rows x columns)

```{r echo=TRUE}
m <- matrix(nrow = 2, ncol = 3)
m
dim(m)
attributes(m)
```

Matrices are constructed **column-wise**, so entries can be thought of starting in the "upper left" corner and running down the columns.

```{r echo=TRUE}
m <- matrix(1:6, nrow = 2, ncol = 3)
m
```

You can create a matrix from vectors by adding a dimension attribute.

```{r echo=TRUE}
m <- 1:10
m
dim(m) <- c(2,5)
m
```

Matrices can be created by **column-binding** or **row-binding** with the `cbind()` and `rbind()` functions.

```{r echo=TRUE}
x <- 1:3
y <- 10:12
cbind(x, y)
rbind(x, y)
```

## Lists

Lists are a special type of vector that can contaian elements of different classes. Lists are very important data type in R and you should get to know them well. Lists, in a combination with the various "apply" functions discussed later, make for a powerful combination.

You can create them with the `list()` function.

```{r echo=TRUE}
x <- list(1, "a", TRUE, 1+4i)
x
```